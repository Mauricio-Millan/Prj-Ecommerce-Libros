<form [formGroup]="loginForm" (ngSubmit)="login()" class="space-y-4">
  <!-- Error Message -->
  <div *ngIf="loginError" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
    {{loginError}}
  </div>

  <!-- Email Field -->
  <div>
    <label for="email" class="block text-sm font-medium text-gray-700 mb-1">
      Email
    </label>
    <input
      formControlName="email"
      type="email"
      id="email"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
      [class.border-gray-300]="!email.invalid || (!email.dirty && !email.touched)"
      [class.border-red-500]="email.invalid && (email.dirty || email.touched)"
      placeholder="tu@email.com"
    />
    <div *ngIf="email.invalid && (email.dirty || email.touched)" class="mt-1 text-red-600 text-sm">
      <p *ngIf="email.errors?.['required']">El email es requerido</p>
      <p *ngIf="email.errors?.['email']">Ingrese un email válido</p>
    </div>
  </div>

  <!-- Password Field -->
  <div>
    <label for="clave" class="block text-sm font-medium text-gray-700 mb-1">
      Contraseña
    </label>
    <input
      formControlName="clave"
      type="password"
      id="clave"
      class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
      [class.border-gray-300]="!clave.invalid || (!clave.dirty && !clave.touched)"
      [class.border-red-500]="clave.invalid && (clave.dirty || clave.touched)"
      placeholder="••••••••"
    />
    <div *ngIf="clave.invalid && (clave.dirty || clave.touched)" class="mt-1 text-red-600 text-sm">
      <p *ngIf="clave.errors?.['required']">La contraseña es requerida</p>
      <p *ngIf="clave.errors?.['minlength']">Mínimo 6 caracteres</p>
    </div>
  </div>

  <!-- Forgot Password -->
  <div class="text-right">
    <a href="#" class="text-sm text-indigo-600 hover:text-indigo-700">
      ¿Olvidaste tu contraseña?
    </a>
  </div>

  <!-- Submit Button -->
  <button
    type="submit"
    [disabled]="loginForm.invalid || isLoading"
    class="w-full py-3 px-4 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold rounded-lg transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center"
  >
    <svg
      *ngIf="isLoading"
      class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
      <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
    </svg>
    <span *ngIf="!isLoading">Iniciar Sesión</span>
    <span *ngIf="isLoading">Iniciando sesión...</span>
  </button>
</form>